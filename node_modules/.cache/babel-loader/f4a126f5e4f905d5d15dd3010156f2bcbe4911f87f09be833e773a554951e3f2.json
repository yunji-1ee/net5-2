{"ast":null,"code":"var _jsxFileName = \"/Users/leeyunji/Desktop/24-2/\\u110B\\u1169\\u1111\\u1173\\u11AB\\u1109\\u1169\\u1109\\u1173/HW5 copy/src/components/Modals/EditUserModal.js\",\n  _s = $RefreshSig$();\nimport React, { useState, useEffect, useRef } from \"react\";\nimport { jsxDEV as _jsxDEV } from \"react/jsx-dev-runtime\";\nconst EditUserModal = ({\n  onClose,\n  user,\n  fetchUsers\n}) => {\n  _s();\n  const [name, setName] = useState(\"\");\n  const [email, setEmail] = useState(\"\");\n  const [age, setAge] = useState(\"\");\n  const [address, setAddress] = useState(\"\");\n  const [editCount, setEditCount] = useState(0); // 수정 횟수 추적\n\n  const nameRef = useRef(null);\n  const emailRef = useRef(null);\n  const ageRef = useRef(null);\n  const addressRef = useRef(null);\n  useEffect(() => {\n    if (user) {\n      setName(user.name || \"\");\n      setEmail(user.email || \"\");\n      setAge(user.age || \"\");\n      setAddress(user.address || \"\");\n    }\n  }, [user]);\n  const updateUser = async (field, value) => {\n    try {\n      const response = await fetch('https://672c8aef1600dda5a9f8de2e.mockapi.io/api/v1/users/${user.id}', {\n        method: \"PUT\",\n        headers: {\n          \"Content-Type\": \"application/json\"\n        },\n        body: JSON.stringify({\n          [field]: value\n        })\n      });\n      if (!response.ok) {\n        throw new Error(\"Failed to update user\");\n      }\n      setEditCount(prevCount => prevCount + 1); // 수정 횟수 증가\n      fetchUsers(); // 사용자 목록 갱신\n    } catch (error) {\n      console.error(\"Error updating user:\", error);\n      alert(\"Failed to update user. Please try again.\");\n    }\n  };\n  const handleChange = (field, value) => {\n    if (field === \"name\") setName(value);else if (field === \"email\") setEmail(value);else if (field === \"age\") setAge(value);else if (field === \"address\") setAddress(value);\n    updateUser(field, value); // 즉각 API 반영\n  };\n  return /*#__PURE__*/_jsxDEV(\"div\", {\n    children: [/*#__PURE__*/_jsxDEV(\"h2\", {\n      children: \"Edit User\"\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 54,\n      columnNumber: 7\n    }, this), /*#__PURE__*/_jsxDEV(\"p\", {\n      children: [\"Total Edits: \", editCount]\n    }, void 0, true, {\n      fileName: _jsxFileName,\n      lineNumber: 55,\n      columnNumber: 7\n    }, this), /*#__PURE__*/_jsxDEV(\"input\", {\n      ref: nameRef,\n      type: \"text\",\n      value: name,\n      onChange: e => handleChange(\"name\", e.target.value),\n      placeholder: \"Name\"\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 56,\n      columnNumber: 7\n    }, this), /*#__PURE__*/_jsxDEV(\"input\", {\n      ref: emailRef,\n      type: \"email\",\n      value: email,\n      onChange: e => handleChange(\"email\", e.target.value),\n      placeholder: \"Email\"\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 63,\n      columnNumber: 7\n    }, this), /*#__PURE__*/_jsxDEV(\"input\", {\n      ref: ageRef,\n      type: \"number\",\n      value: age,\n      onChange: e => handleChange(\"age\", e.target.value),\n      placeholder: \"Age\"\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 70,\n      columnNumber: 7\n    }, this), /*#__PURE__*/_jsxDEV(\"input\", {\n      ref: addressRef,\n      type: \"text\",\n      value: address,\n      onChange: e => handleChange(\"address\", e.target.value),\n      placeholder: \"Address\"\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 77,\n      columnNumber: 7\n    }, this), /*#__PURE__*/_jsxDEV(\"button\", {\n      onClick: onClose,\n      children: \"Close\"\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 84,\n      columnNumber: 7\n    }, this)]\n  }, void 0, true, {\n    fileName: _jsxFileName,\n    lineNumber: 53,\n    columnNumber: 5\n  }, this);\n};\n_s(EditUserModal, \"UHSgxk3Vn20uqRs0frGLzhsrAzk=\");\n_c = EditUserModal;\nexport default EditUserModal;\nvar _c;\n$RefreshReg$(_c, \"EditUserModal\");","map":{"version":3,"names":["React","useState","useEffect","useRef","jsxDEV","_jsxDEV","EditUserModal","onClose","user","fetchUsers","_s","name","setName","email","setEmail","age","setAge","address","setAddress","editCount","setEditCount","nameRef","emailRef","ageRef","addressRef","updateUser","field","value","response","fetch","method","headers","body","JSON","stringify","ok","Error","prevCount","error","console","alert","handleChange","children","fileName","_jsxFileName","lineNumber","columnNumber","ref","type","onChange","e","target","placeholder","onClick","_c","$RefreshReg$"],"sources":["/Users/leeyunji/Desktop/24-2/오픈소스/HW5 copy/src/components/Modals/EditUserModal.js"],"sourcesContent":["import React, { useState, useEffect, useRef } from \"react\";\n\nconst EditUserModal = ({ onClose, user, fetchUsers }) => {\n  const [name, setName] = useState(\"\");\n  const [email, setEmail] = useState(\"\");\n  const [age, setAge] = useState(\"\");\n  const [address, setAddress] = useState(\"\");\n  const [editCount, setEditCount] = useState(0); // 수정 횟수 추적\n\n  const nameRef = useRef(null);\n  const emailRef = useRef(null);\n  const ageRef = useRef(null);\n  const addressRef = useRef(null);\n\n  useEffect(() => {\n    if (user) {\n      setName(user.name || \"\");\n      setEmail(user.email || \"\");\n      setAge(user.age || \"\");\n      setAddress(user.address || \"\");\n    }\n  }, [user]);\n\n  const updateUser = async (field, value) => {\n    try {\n      const response = await fetch('https://672c8aef1600dda5a9f8de2e.mockapi.io/api/v1/users/${user.id}', {\n        method: \"PUT\",\n        headers: { \"Content-Type\": \"application/json\" },\n        body: JSON.stringify({ [field]: value }),\n      });\n\n      if (!response.ok) {\n        throw new Error(\"Failed to update user\");\n      }\n\n      setEditCount((prevCount) => prevCount + 1); // 수정 횟수 증가\n      fetchUsers(); // 사용자 목록 갱신\n    } catch (error) {\n      console.error(\"Error updating user:\", error);\n      alert(\"Failed to update user. Please try again.\");\n    }\n  };\n\n  const handleChange = (field, value) => {\n    if (field === \"name\") setName(value);\n    else if (field === \"email\") setEmail(value);\n    else if (field === \"age\") setAge(value);\n    else if (field === \"address\") setAddress(value);\n    updateUser(field, value); // 즉각 API 반영\n  };\n\n  return (\n    <div>\n      <h2>Edit User</h2>\n      <p>Total Edits: {editCount}</p>\n      <input\n        ref={nameRef}\n        type=\"text\"\n        value={name}\n        onChange={(e) => handleChange(\"name\", e.target.value)}\n        placeholder=\"Name\"\n      />\n      <input\n        ref={emailRef}\n        type=\"email\"\n        value={email}\n        onChange={(e) => handleChange(\"email\", e.target.value)}\n        placeholder=\"Email\"\n      />\n      <input\n        ref={ageRef}\n        type=\"number\"\n        value={age}\n        onChange={(e) => handleChange(\"age\", e.target.value)}\n        placeholder=\"Age\"\n      />\n      <input\n        ref={addressRef}\n        type=\"text\"\n        value={address}\n        onChange={(e) => handleChange(\"address\", e.target.value)}\n        placeholder=\"Address\"\n      />\n      <button onClick={onClose}>Close</button>\n    </div>\n  );\n};\n\nexport default EditUserModal;\n"],"mappings":"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","ignoreList":[]},"metadata":{},"sourceType":"module","externalDependencies":[]}